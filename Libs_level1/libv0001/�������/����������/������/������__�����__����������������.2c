Перем ТекДерево;//ТекДерево:ДеревоЗначений
Перем ИмяОбъекта;
Перем РежимОбъекта;
Перем БазовРеквизиты;
Перем КартинкаЭлемента;
Перем КартинкаЭлементаГр;

//******************************************************************************************
//Предопределенные процедуры и функции в режиме Конфигуратора
//******************************************************************************************
Процедура ПриНачалеРаботыКонфигуратора()
	КартинкаЭлементаГр	=85;
	КартинкаЭлемента	=226;
	ИмяОбъекта="Справочник";
	РежимОбъекта["Список элементов"]=1;
	РежимОбъекта["Форма диалога"]=1;
	РежимОбъекта["Форма группы"]=1;
	РежимОбъекта["Таблицы"]=1;
	РежимОбъекта["Реквизиты"]=213;

	БазовРеквизиты=СоздатьОбъект("Структура");
	БазовРеквизиты.Владелец=1;
	БазовРеквизиты.Родитель=1;
	БазовРеквизиты.Код=1;
	БазовРеквизиты.Наименование=1;
	
	
	ПодписатьсяНаСобытие("СписокПредопределенныхПроцедур","ОбработкаДобавленияПредопределенныхПроцедур");
КонецПроцедуры 

//___________________________________________________________________________________________
//Процедура вызывается при открытии дерева метаданных
//Здесь долен быть прописан код по заполнению элементов дерева объекта
//Дерево - объект типа ДеревоЗначений
//ПапкаМетаданных - элемент дерева, который является родителем для данного объекта
//Дерево:ДеревоЗначений
Процедура ПриЗагрузкеКонфигурации(Дерево,ПапкаМетаданных)
    ТекДерево=Дерево;
    
	ТекЭлементДерева=Дерево.ВставитьЭлемент(ИмяОбъекта,КартинкаЭлементаГр,ПапкаМетаданных);
	ТекДерево.УстановитьТипОбъекта(ТекЭлементДерева,0,1,"ВводНовогоВида",КартинкаЭлемента,1);
    
	ЗагрузитьСтруктуруОбъекта(Контекст,ТекЭлементДерева);
КонецПроцедуры

//___________________________________________________________________________________________
Процедура ВводНовогоВида()
	Если ТекДерево.ПолучитьТекст(ТекДерево.ПолучитьРодителя(ТекДерево.ВыделенныйЭлемент()))="Метаданные" Тогда
		ОткрытьФорму("ОбщиеНастройки",,,"НастройкиСправочников");
		Возврат;
	КонецЕсли

	Если ТекДерево.ЭтоГруппа(ТекДерево.ВыделенныйЭлемент())=0 Тогда
		ЗагрузитьСтруктуруВида(Контекст,ТекДерево.ВыделенныйЭлемент(),"");
	КонецЕсли
КонецПроцедуры//ВводНовогоВида



//___________________________________________________________________________________________
//СписокЗначений:СписокЗначений
Процедура ОбработкаДобавленияПредопределенныхПроцедур(Результат,СписокЗначений,ПутьФормы)
	Если Лев(ПутьФормы,22)<>"Метаданные\Справочник\" Тогда
		Возврат;
	КонецЕсли

	
	Если Прав(ПутьФормы,13)="Форма диалога" Тогда
		СписокЗначений.ДобавитьЗначение("Процедура ВводНового(ПризнКопирования,ОбъектКопирования)//Предопределенная процедура при интерактивном вводе нового элемента справочника");
		СписокЗначений.ДобавитьЗначение("Процедура ПриЗаписи(СписокПериодРекв)//Предопределенная процедура при интерактивной записи элемента справочника");
	ИначеЕсли Прав(ПутьФормы,16)="Список элементов" Тогда
//		СписокЗначений.ДобавитьЗначение("Процедура ПриЗаписи(СписокПериодРекв)//Предопределенная процедура при интерактивной записи строки списка справочника");
//		СписокЗначений.ДобавитьЗначение("Процедура ПриВводеСтроки()//Предопределенная процедура при интерактивном вводе новой строки списка справочника");
//		СписокЗначений.ДобавитьЗначение("Процедура ПриРедактированииНовойСтроки()//Предопределенная процедура при интерактивном редактировании новой строки списка справочника");
//		
//		
//		СписокЗначений.ДобавитьЗначение("Процедура ПриВыбореСтроки()//Предопределенная процедура при выборе строки списка");
//		СписокЗначений.ДобавитьЗначение("Процедура ПриПереносеЭлементаВДругуюГруппу(Элемент,Группа)//Предопределенная процедура при интерактивном переносе элемента справочника в другую группу");
	КонецЕсли

КонецПроцедуры
