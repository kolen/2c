///////////////////////////////////////////////////////////////////////
//Предопределенная процедура - вызывается при первом открытии формы
Процедура ПриОткрытии()
	глВосстановитьЗначенияФормы(Контекст);
КонецПроцедуры

///////////////////////////////////////////////////////////////////////
//Предопределенная процедура - вызывается при закрытии формы
Процедура ПриЗакрытии()
	глЗапомнитьЗначенияФормы(Контекст);
КонецПроцедуры

///////////////////////////////////////////////////////////////////////
//Процедура обработки нажатия кнопки Закрыть - выполняет закрытие формы
Процедура ЗакрытьФорму()
	Форма.Закрыть();
КонецПроцедуры

///////////////////////////////////////////////////////////////////////
//Процедура обработки нажатия кнопки Выполнить
Процедура Выполнить()
	Запрос=СоздатьОбъект("Запрос");
	ТекстЗапроса="
	|Период С НачПериода По КонПериода;
	|Номер=Документ.ПриходнаяНакладная.НомерДок;
	|Дата=Документ.ПриходнаяНакладная.ДатаДок;
	|Контрагент=Документ.ПриходнаяНакладная.Контрагент;
//	|Функция НачОстаток=НачОст(СуммаТов);
//	|Функция Приход=Приход(СуммаТов);
//	|Функция Расход=Расход(СуммаТов);
//	|Функция КонОстаток=КонОст(СуммаТов);
	|Группировка Дата;
	|Группировка Номер;
	|Группировка Контрагент;
	";
	Если ВыбКонтрагент.Выбран()=1 Тогда
		ТекстЗапроса=ТекстЗапроса+"Условие (Контрагент = ВыбКонтрагент);";
	КонецЕсли
	
	Запрос.Выполнить(ТекстЗапроса);
	Запрос.Просмотр();
КонецПроцедуры
